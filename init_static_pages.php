<?php
// Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑÑ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†
require_once 'src/Config/database.php';
require_once 'src/Models/StaticPage.php';

try {
    $staticPageModel = new StaticPage();
    
    // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‚ Ð»Ð¸ ÑƒÐ¶Ðµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹
    if (!$staticPageModel->exists('policy')) {
        $policyContent = json_encode([
            'time' => time() * 1000,
            'blocks' => [
                [
                    'id' => 'header1',
                    'type' => 'header',
                    'data' => [
                        'text' => 'ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸',
                        'level' => 1
                    ]
                ],
                [
                    'id' => 'paragraph1',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'Ð—Ð´ÐµÑÑŒ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ð° Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸.'
                    ]
                ],
                [
                    'id' => 'paragraph2',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'Ð”Ð°Ð½Ð½Ñ‹Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚, ÐºÐ°Ðº Ð¼Ñ‹ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÐ¼, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð¸ Ð·Ð°Ñ‰Ð¸Ñ‰Ð°ÐµÐ¼ Ð²Ð°ÑˆÑƒ Ð»Ð¸Ñ‡Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ.'
                    ]
                ],
                [
                    'id' => 'header2',
                    'type' => 'header',
                    'data' => [
                        'text' => '1. Ð¡Ð±Ð¾Ñ€ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph3',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'ÐœÑ‹ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð²Ñ‹ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚Ðµ Ð¿Ñ€Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð½Ð°ÑˆÐµÐ³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ°.'
                    ]
                ],
                [
                    'id' => 'header3',
                    'type' => 'header',
                    'data' => [
                        'text' => '2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph4',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'Ð¡Ð¾Ð±Ñ€Ð°Ð½Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÑƒÑÐ»ÑƒÐ³ Ð¸ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ð³Ð¾ Ð¾Ð¿Ñ‹Ñ‚Ð°.'
                    ]
                ],
                [
                    'id' => 'header4',
                    'type' => 'header',
                    'data' => [
                        'text' => '3. Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph5',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'ÐœÑ‹ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÐ¼ Ð²ÑÐµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð¼ÐµÑ€Ñ‹ Ð´Ð»Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð²Ð°ÑˆÐµÐ¹ Ð»Ð¸Ñ‡Ð½Ð¾Ð¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸.'
                    ]
                ],
                [
                    'id' => 'header5',
                    'type' => 'header',
                    'data' => [
                        'text' => '4. ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph6',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'ÐŸÐ¾ Ð²ÑÐµÐ¼ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°Ð¼ Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ð¹Ñ‚ÐµÑÑŒ Ðº Ð½Ð°Ð¼ Ð¿Ð¾ email: privacy@example.com'
                    ]
                ]
            ],
            'version' => '2.31.0'
        ]);
        
        $staticPageModel->create('policy', 'ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸', $policyContent);
        echo "âœ… Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° 'ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸' ÑÐ¾Ð·Ð´Ð°Ð½Ð°\n";
    } else {
        echo "â„¹ï¸ Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° 'ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸' ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚\n";
    }
    
    if (!$staticPageModel->exists('oferta')) {
        $ofertaContent = json_encode([
            'time' => time() * 1000,
            'blocks' => [
                [
                    'id' => 'header1',
                    'type' => 'header',
                    'data' => [
                        'text' => 'ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð¾Ñ„ÐµÑ€Ñ‚Ð°',
                        'level' => 1
                    ]
                ],
                [
                    'id' => 'paragraph1',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'Ð—Ð´ÐµÑÑŒ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ð° Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð¾Ñ„ÐµÑ€Ñ‚Ð°.'
                    ]
                ],
                [
                    'id' => 'paragraph2',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'ÐÐ°ÑÑ‚Ð¾ÑÑ‰Ð¸Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾Ð¹ Ð¾Ñ„ÐµÑ€Ñ‚Ð¾Ð¹ Ð½Ð° Ð·Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð°.'
                    ]
                ],
                [
                    'id' => 'header2',
                    'type' => 'header',
                    'data' => [
                        'text' => '1. ÐžÐ±Ñ‰Ð¸Ðµ Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph3',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'Ð”Ð°Ð½Ð½Ð°Ñ Ð¾Ñ„ÐµÑ€Ñ‚Ð° Ñ€ÐµÐ³ÑƒÐ»Ð¸Ñ€ÑƒÐµÑ‚ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ Ð½Ð°Ð¼Ð¸ Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸ Ð½Ð°ÑˆÐµÐ³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ°.'
                    ]
                ],
                [
                    'id' => 'header3',
                    'type' => 'header',
                    'data' => [
                        'text' => '2. ÐŸÑ€ÐµÐ´Ð¼ÐµÑ‚ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð°',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph4',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'ÐŸÑ€ÐµÐ´Ð¼ÐµÑ‚Ð¾Ð¼ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð° ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÑƒÑÐ»ÑƒÐ³.'
                    ]
                ],
                [
                    'id' => 'header4',
                    'type' => 'header',
                    'data' => [
                        'text' => '3. ÐŸÑ€Ð°Ð²Ð° Ð¸ Ð¾Ð±ÑÐ·Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸ ÑÑ‚Ð¾Ñ€Ð¾Ð½',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph5',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'ÐšÐ°Ð¶Ð´Ð°Ñ Ð¸Ð· ÑÑ‚Ð¾Ñ€Ð¾Ð½ Ð¸Ð¼ÐµÐµÑ‚ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð° Ð¸ Ð¾Ð±ÑÐ·Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸, Ð¾Ð¿Ð¸ÑÐ°Ð½Ð½Ñ‹Ðµ Ð² Ð´Ð°Ð½Ð½Ð¾Ð¼ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ðµ.'
                    ]
                ],
                [
                    'id' => 'header5',
                    'type' => 'header',
                    'data' => [
                        'text' => '4. Ð¡Ñ€Ð¾Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph6',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'ÐžÑ„ÐµÑ€Ñ‚Ð° Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÐµÑ‚ Ð±ÐµÑÑÑ€Ð¾Ñ‡Ð½Ð¾ Ð´Ð¾ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚Ð° ÐµÑ‘ Ð¾Ñ‚Ð·Ñ‹Ð²Ð°.'
                    ]
                ],
                [
                    'id' => 'header6',
                    'type' => 'header',
                    'data' => [
                        'text' => '5. ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹',
                        'level' => 2
                    ]
                ],
                [
                    'id' => 'paragraph7',
                    'type' => 'paragraph',
                    'data' => [
                        'text' => 'ÐŸÐ¾ Ð²ÑÐµÐ¼ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°Ð¼ Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ð¹Ñ‚ÐµÑÑŒ Ðº Ð½Ð°Ð¼ Ð¿Ð¾ email: legal@example.com'
                    ]
                ]
            ],
            'version' => '2.31.0'
        ]);
        
        $staticPageModel->create('oferta', 'ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð¾Ñ„ÐµÑ€Ñ‚Ð°', $ofertaContent);
        echo "âœ… Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° 'ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð¾Ñ„ÐµÑ€Ñ‚Ð°' ÑÐ¾Ð·Ð´Ð°Ð½Ð°\n";
    } else {
        echo "â„¹ï¸ Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° 'ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð¾Ñ„ÐµÑ€Ñ‚Ð°' ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚\n";
    }
    
    echo "\nðŸŽ‰ Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÑ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°!\n";
    echo "ðŸ“ Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ:\n";
    echo "   - ÐŸÑ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÐ°Ð¼: /policy Ð¸ /oferta\n";
    echo "   - Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ñ… Ð² Ð°Ð´Ð¼Ð¸Ð½ÐºÐµ: /admin/static-pages\n";
    
} catch (Exception $e) {
    echo "âŒ ÐžÑˆÐ¸Ð±ÐºÐ°: " . $e->getMessage() . "\n";
}
?> 